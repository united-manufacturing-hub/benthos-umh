{
  "$schema": "https://docs.renovatebot.com/renovate-schema.json",
  "extends": ["config:recommended"],
  "commitMessagePrefix": "[renovate]chore(deps):",
  "enabledManagers": ["dockerfile", "gomod"],
  "postUpdateOptions": ["gomodTidy"],
  "minimumReleaseAge": "7 days",
  "timezone": "Europe/Berlin",
  "schedule": ["* * * * 0"],
  "packageRules": [
    {
      "matchManagers": ["gomod"],
      "matchUpdateTypes": [
        "minor",
        "patch",
        "pin",
        "digest",
        "pinDigest",
        "rollback",
        "bump",
        "replacement",
        "lockFileMaintenance"
      ],
      "groupName": "Go dependencies (non-major)",
      "groupSlug": "go-deps-non-major"
    },
    {
      "matchManagers": ["gomod"],
      "matchUpdateTypes": ["major"],
      "groupName": "Go dependencies (major)",
      "groupSlug": "go-deps-major"
    },
    {
      "matchManagers": ["dockerfile"],
      "matchUpdateTypes": [
        "minor",
        "patch",
        "pin",
        "digest",
        "pinDigest",
        "rollback",
        "bump",
        "replacement",
        "lockFileMaintenance"
      ],
      "groupName": "Dockerfile dependencies (non-major)",
      "groupSlug": "dockerfile-deps-non-major"
    },
    {
      "matchManagers": ["dockerfile"],
      "matchUpdateTypes": ["major"],
      "groupName": "Dockerfile dependencies (major)",
      "groupSlug": "dockerfile-deps-major"
    },
    {
      "description": "Bump go directive in go.mod",
      "matchDepNames": ["go"],
      "matchManagers": ["gomod"],
      "rangeStrategy": "bump"
    },
    {
      "description": "Sync Go version in Dockerfile and go.mod",
      "matchDepNames": ["golang", "go"],
      "groupName": "Go version",
      "groupSlug": "go-version"
    }
  ]
}
